#!/bin/bash
#MISE description="Start the API service"

cleanup() {
    echo "Stopping containers..."
    docker compose down
}

trap cleanup EXIT

echo "Starting containers..."
docker compose up -d --remove-orphans

echo "Starting API..."
echo "View API logs at http://localhost:18888"

# The API is redirected to a file to allow easier capture by the OTel filelog receiver.
cd ./cmd/api && go run . >api.log  2>&1
